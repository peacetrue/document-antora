= 删除方案

用户有删除记录的需求，如果直接删除记录，可能会导致其他记录丢失关联的记录。针对这种情况，有以下解决办法：

== 标记删除

添加一个 `deleted` 字段，删除时直接标记为 `true`，列表查询时不展示。

此方案会影响唯一字段，未删除的字段应该具有独立的唯一性，不能和已删除的字段共享唯一性。

== 依赖检查

添加一个 `depend_by_count` 字段。每次有其他记录关联当前记录，该字段 +1；每次删除其他关联记录时，该字段 -1。
删除记录时检查该字段是否为 `0`，如为 `0` 则允许删除。

此方案要求维护引用计数，实现较为繁琐。

// dependByCount
